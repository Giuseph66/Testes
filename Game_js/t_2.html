<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Livro Digital Interativo</title>
  <style>
    /* Estilos Base */
    body {
      background-color: #111;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      margin: 0;
      font-family: Arial, sans-serif;
      color: #eee;
    }
    .book-container {
      width: 300px;
      height: 400px;
      position: relative;
      perspective: 1500px;
    }
    /* O livro conterá as folhas */
    .book {
      width: 100%;
      height: 100%;
      position: absolute;
      transform-style: preserve-3d;
    }
    /* Cada folha representa duas páginas (frente e verso) */
    .leaf {
      position: absolute;
      width: 100%;
      height: 100%;
      transform-style: preserve-3d;
      transition: transform 1s;
      transform-origin: left center;
    }
    .leaf.flipped {
      transform: rotateY(-180deg);
    }
    /* Cada página ocupa 98% da largura da folha */
    .page {
      position: absolute;
      width: 98%;
      height: 100%;
      backface-visibility: hidden;
      background-color: #222;
      border: 1px solid #e63946;
      padding: 20px;
      box-sizing: border-box;
      overflow-y: auto;
      box-shadow: 0 0 15px rgba(230, 57, 70, 0.3);
      cursor: pointer;
    }
    /* Página da frente: posicionada à direita */
    .front {
      right: 0;
      z-index: 2;
    }
    /* Página de verso: posicionada à esquerda e rotacionada */
    .back {
      left: 0;
      transform: rotateY(180deg);
      background-color: #333;
      z-index: 1;
    }
    /* Efeito hover para indicar área clicável */
    .page:hover::before {
      content: '';
      position: absolute;
      top: 0;
      bottom: 0;
      width: 20%;
      background: rgba(230, 57, 70, 0.1);
    }
    .front:hover::before {
      right: 0;
    }
    .back:hover::before {
      left: 0;
    }
    h1 {
      color: #e63946;
      border-bottom: 1px solid #e63946;
      padding-bottom: 5px;
    }
    code {
      background-color: #111;
      padding: 2px 5px;
      border-radius: 3px;
      color: #f1faee;
    }
    .page::-webkit-scrollbar {
      width: 5px;
    }
    .page::-webkit-scrollbar-thumb {
      background: #e63946;
    }
  </style>
</head>
<body>
  <div class="book-container">
    <div class="book" id="book">
      <!-- Folha 1: Páginas 1 e 2 -->
      <div class="leaf" data-leaf="1">
        <div class="page front" id="page1">
          <h1>Capítulo 1</h1>
          <p>No coração da cidade cibernética, onde os dados fluíam como sangue...</p>
          <code>while (true) { hackTheWorld(); }</code>
        </div>
        <div class="page back" id="page2">
          <h1>Capítulo 1 (Continuação)</h1>
          <p>O hacker conhecido como NeoByte observava as linhas de código...</p>
        </div>
      </div>
      <!-- Folha 2: Páginas 3 e 4 -->
      <div class="leaf" data-leaf="2">
        <div class="page front" id="page3">
          <h1>Capítulo 2</h1>
          <p>O sistema de segurança da Megacorp parecia impenetrável...</p>
        </div>
        <div class="page back" id="page4">
          <h1>Capítulo 2 (Continuação)</h1>
          <p>Mas NeoByte tinha um plano. Ele começou a injetar seu vírus...</p>
        </div>
      </div>
      <!-- Folha 3: Páginas 5 e 6 -->
      <div class="leaf" data-leaf="3">
        <div class="page front" id="page5">
          <h1>Capítulo 3</h1>
          <p>Em meio a sombras e códigos, a verdade se escondia...</p>
        </div>
        <div class="page back" id="page6">
          <h1>Capítulo 3 (Continuação)</h1>
          <p>Os segredos da rede revelavam uma conspiração global...</p>
        </div>
      </div>
      <!-- Folha 4: Páginas 7 e 8 -->
      <div class="leaf" data-leaf="4">
        <div class="page front" id="page7">
          <h1>Capítulo 4</h1>
          <p>A resistência digital se fortalecia a cada linha de código...</p>
        </div>
        <div class="page back" id="page8">
          <h1>Capítulo 4 (Continuação)</h1>
          <p>Rebeldes virtuais se uniam para derrubar o sistema opressor...</p>
        </div>
      </div>
      <!-- Folha 5: Páginas 9 e 10 -->
      <div class="leaf" data-leaf="5">
        <div class="page front" id="page9">
          <h1>Capítulo 5</h1>
          <p>Um labirinto de códigos escondia a chave para a liberdade...</p>
        </div>
        <div class="page back" id="page10">
          <h1>Capítulo 5 (Continuação)</h1>
          <p>O enigma digital desafiava até os mais experientes hackers...</p>
        </div>
      </div>
      <!-- Folha 6: Páginas 11 e 12 -->
      <div class="leaf" data-leaf="6">
        <div class="page front" id="page11">
          <h1>Capítulo 6</h1>
          <p>A batalha entre sistemas se intensificava nas sombras da internet...</p>
        </div>
        <div class="page back" id="page12">
          <h1>Capítulo 6 (Continuação)</h1>
          <p>Dados e segredos eram armas em uma guerra invisível...</p>
        </div>
      </div>
      <!-- Folha 7: Páginas 13 e 14 -->
      <div class="leaf" data-leaf="7">
        <div class="page front" id="page13">
          <h1>Capítulo 7</h1>
          <p>Intrigas e traições emergiam no submundo digital...</p>
        </div>
        <div class="page back" id="page14">
          <h1>Capítulo 7 (Continuação)</h1>
          <p>O confronto entre aliados e inimigos se intensificava...</p>
        </div>
      </div>
      <!-- Folha 8: Páginas 15 e 16 -->
      <div class="leaf" data-leaf="8">
        <div class="page front" id="page15">
          <h1>Capítulo 8</h1>
          <p>Nas entranhas da rede, um novo poder surgia...</p>
        </div>
        <div class="page back" id="page16">
          <h1>Capítulo 8 (Continuação)</h1>
          <p>O despertar de uma inteligência artificial ameaçava o status quo...</p>
        </div>
      </div>
      <!-- Folha 9: Páginas 17 e 18 -->
      <div class="leaf" data-leaf="9">
        <div class="page front" id="page17">
          <h1>Capítulo 9</h1>
          <p>Entre códigos e segredos, a verdade se revelava lentamente...</p>
        </div>
        <div class="page back" id="page18">
          <h1>Capítulo 9 (Continuação)</h1>
          <p>A revelação chocante transformava para sempre o mundo digital...</p>
        </div>
      </div>
      <!-- Folha 10: Páginas 19 e 20 -->
      <div class="leaf" data-leaf="10">
        <div class="page front" id="page19">
          <h1>Epílogo</h1>
          <p>Com o sistema da Megacorp derrubado, NeoByte desapareceu...</p>
        </div>
        <div class="page back" id="page20">
          <h1>Fim</h1>
          <p>Mas sua lenda continuou a inspirar hackers em todo o mundo...</p>
        </div>
      </div>
    </div>
  </div>
  <script>
    const leaves = document.querySelectorAll('.leaf');
    const totalLeaves = leaves.length;
    let currentLeaf = 0;
    
    // Define o z-index inicial para cada folha com base em sua ordem (a primeira em cima)
    leaves.forEach((leaf, index) => {
      leaf.style.zIndex = totalLeaves - index;
    });
    
    // Função para virar a folha para frente (avançar)
    function nextPage(leaf, index, clickX, rect) {
      if (clickX > rect.width * 0.8 && index === currentLeaf) {
        leaf.classList.add('flipped');
        // Após virar, diminui o z-index para que a próxima folha apareça sobre ela
        leaf.style.zIndex = 0;
        currentLeaf++;
      }
    }
    
    // Função para voltar a folha (desvirar)
    function prevPage(leaf, index, clickX, rect) {
      if (clickX < rect.width * 0.2 && index === currentLeaf - 1) {
        // Antes de desvirar, restaura o z-index para que a folha volte a ficar no topo
        leaf.style.zIndex = totalLeaves - index;
        leaf.classList.remove('flipped');
        currentLeaf--;
      }
    }
    
    // Adiciona os eventos de clique para as páginas de cada folha
    leaves.forEach((leaf, index) => {
      const frontPage = leaf.querySelector('.front');
      const backPage = leaf.querySelector('.back');
      
      frontPage.addEventListener('click', (e) => {
        const rect = frontPage.getBoundingClientRect();
        const clickX = e.clientX - rect.left;
        nextPage(leaf, index, clickX, rect);
      });
      
      backPage.addEventListener('click', (e) => {
        const rect = backPage.getBoundingClientRect();
        const clickX = e.clientX - rect.left;
        prevPage(leaf, index, clickX, rect);
      });
    });
  </script>
</body>
</html>
